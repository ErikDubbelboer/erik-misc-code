<!doctype html>
<html>
<head>
<meta charset=utf-8>
<title>serialize</title>
<link rel=stylesheet href=../node_modules/mocha/mocha.css />
<style>
body {
font-size: 100%; /* reset the huge font set by mocha.css */
}
</style>
</head>
<body>

<h2>serialize()</h2>

<p>
This function can be used to serialize a javascript variable.<br>
This does more than JSON.stringify seeing as JSON is just a subset of what a javascript variable can contain.
</p>
<p>
This function works in: IE 6+, Firefox 6+, Chrome 22+, Safari 6+ and Opera 12+.
</p>

<pre id=code></pre>

<h2>Tests</h2>
<a href="javascript:void(0)" id=test>run tests</a>
<div id="mocha"></div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="../node_modules/mocha/mocha.js"></script>
<script src="stringify.js"></script>
<script>
mocha.setup('bdd');

var _stringify = stringify;
var require    = function() { return _stringify; };
</script>
<script src="test.js"></script>
<script>
$.ajax({
  url: 'stringify.js'
}).done(function(code) {
  $('#code').html(code
    .replace(/\n/g, '<br>') // These two are required for this to work in IE6, 7 and 8.
    .replace(/ /g, '&nbsp')
    .replace(/\/\/<testonly>.*/, '')
  );
});

$('#test').click(function() {
  $(this).remove();
  mocha.run();
});
</script>

</body>
</html>
